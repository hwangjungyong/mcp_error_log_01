# AI 에러 로그 분석 시스템 - 사용자 가이드

## 목차
1. [시스템 개요](#시스템-개요)
2. [화면 구성](#화면-구성)
3. [기능별 사용 방법](#기능별-사용-방법)
4. [문제 해결](#문제-해결)

## 시스템 개요

AI 에러 로그 분석 시스템은 AI 기술을 활용하여 에러 로그 파일을 자동으로 분석하고, 원인을 파악하며, 해결 방안을 제시하는 시스템입니다.

### 주요 기능

- ✅ 에러 로그 파일 업로드 및 분석
- ✅ 에러 타입, 심각도, 발생 위치 자동 감지
- ✅ AI 기반 원인 분석 및 해결 방안 제시
- ✅ 재발 방지책 제안
- ✅ 분석 결과 데이터베이스 저장
- ✅ 발생일자별 에러 로그 이력 조회

## 화면 구성

### 메인 화면

```
┌─────────────────────────────────────────────┐
│  AI 에러 로그 분석 시스템                    │
│  에러 로그 파일을 분석하여 원인 파악 및     │
│  해결 방안 제시                              │
├─────────────────────────────────────────────┤
│                                              │
│  🔧 AI 에러로그분석                          │
│  ┌────────────────────────────────────────┐ │
│  │ 🔧 AI 에러로그분석                      │ │
│  │ 에러 로그 분석 및 조치 방법             │ │
│  └────────────────────────────────────────┘ │
│                                              │
│  ┌────────────────────────────────────────┐ │
│  │ 📊 AI 에러로그 현황                     │ │
│  │ 저장된 에러 로그 조회                   │ │
│  └────────────────────────────────────────┘ │
│                                              │
└─────────────────────────────────────────────┘
```

### AI 에러로그분석 모달

```
┌──────────────────────────────────────────────────┐
│  🔧 AI 에러로그분석                      [닫기]  │
├──────────────────────────────────────────────────┤
│                                                   │
│  ┌─────────────────────────────────────────────┐ │
│  │ 📁 파일 선택  또는  📝 직접 입력           │ │
│  └─────────────────────────────────────────────┘ │
│                                                   │
│  [분석 시작]                                      │
│                                                   │
│  ┌─ 분석 결과 ─────────────────────────────────┐ │
│  │ 📋 요약                                      │ │
│  │ ────────────────────────────────────────── │ │
│  │ 총 N개의 에러가 발견되었습니다.             │ │
│  │ 주요 에러 타입: ...                         │ │
│  │ 심각도: ...                                  │ │
│  │                                              │ │
│  │ 🔍 발견된 에러 목록                          │ │
│  │ ────────────────────────────────────────── │ │
│  │ 1. [ERROR] Database Error                   │ │
│  │    발생시간: 2025-12-04 10:00:00            │ │
│  │    [상세보기]                                │ │
│  │                                              │ │
│  │ [분석결과 저장하기]                          │ │
│  └──────────────────────────────────────────── ┘ │
│                                                   │
└──────────────────────────────────────────────────┘
```

### 에러 상세 정보 모달

```
┌──────────────────────────────────────────────────┐
│  에러 상세 정보                          [닫기]  │
├──────────────────────────────────────────────────┤
│                                                   │
│  🔍 기본 정보                                     │
│  ────────────────────────────────────────────── │
│  에러 타입:     Database Error                    │
│  에러 카테고리: Connection Error                  │
│  심각도:       CRITICAL                           │
│  발생 시간:    2025-12-04 10:00:00                │
│  시스템 타입:  PostgreSQL                         │
│                                                   │
│  🔍 원인 분석                                     │
│  ────────────────────────────────────────────── │
│  데이터베이스 연결 타임아웃이 발생했습니다.      │
│  30초 동안 응답이 없어 연결이 실패했습니다.      │
│                                                   │
│  💡 해결 방안                                     │
│  ────────────────────────────────────────────── │
│  1. 데이터베이스 서버 상태 확인                  │
│  2. 네트워크 연결 확인                           │
│  3. 타임아웃 설정 증가                           │
│                                                   │
│  🛡️ 재발 방지책                                  │
│  ────────────────────────────────────────────── │
│  1. 연결 풀 크기 조정                            │
│  2. 헬스 체크 주기 설정                          │
│  3. 모니터링 알람 설정                           │
│                                                   │
│  📄 원본 로그                                     │
│  ────────────────────────────────────────────── │
│  [펼치기/접기]                                   │
│                                                   │
└──────────────────────────────────────────────────┘
```

### AI 에러로그 현황 모달

```
┌──────────────────────────────────────────────────┐
│  AI 에러로그 현황                        [닫기]  │
├──────────────────────────────────────────────────┤
│                                                   │
│  에러 로그 목록 (100건) - 발생일자별 그룹화      │
│  🔄 새로고침                                      │
│                                                   │
│  📅 2025-12-04 (3건)                              │
│  ┌────────────────────────────────────────────┐ │
│  │ No. 저장시간  발생시간  시스템  심각도 ... │ │
│  │ 1   10:30   10:28   DB     CRITICAL  ...  │ │
│  │ 2   10:25   10:20   API    ERROR     ...  │ │
│  │ 3   10:15   10:10   WEB    WARNING   ...  │ │
│  └────────────────────────────────────────────┘ │
│                                                   │
│  📅 2025-12-03 (5건)                              │
│  ┌────────────────────────────────────────────┐ │
│  │ ...                                        │ │
│  └────────────────────────────────────────────┘ │
│                                                   │
└──────────────────────────────────────────────────┘
```

## 기능별 사용 방법

### 1. AI 에러로그분석

#### 1-1. 파일 업로드 방식

1. 메인 화면에서 **🔧 AI 에러로그분석** 버튼 클릭
2. **📁 파일 선택** 버튼 클릭
3. 분석할 에러 로그 파일 선택 (`.log`, `.txt` 등)
4. **분석 시작** 버튼 클릭
5. 분석 완료까지 대기 (10초~1분 소요)
6. 분석 결과 확인

**지원 파일 형식:**
- `.log`: 표준 로그 파일
- `.txt`: 텍스트 파일
- 기타 텍스트 기반 로그 파일

**파일 크기 제한:**
- 최대 10MB
- 더 큰 파일은 분할하여 분석하세요.

#### 1-2. 직접 입력 방식

1. **📝 직접 입력** 탭 선택
2. 텍스트 영역에 에러 로그 내용 붙여넣기
3. **분석 시작** 버튼 클릭
4. 분석 결과 확인

**입력 예시:**
```
2025-12-04T10:00:00.123Z ERROR Database connection failed: Connection timeout after 30 seconds
  at DatabaseConnection.connect (database.js:45)
  at async Server.initialize (server.js:23)
```

#### 1-3. 분석 결과 확인

분석이 완료되면 다음 정보를 확인할 수 있습니다:

1. **📋 요약**
   - 전체 에러 개수
   - 주요 에러 타입
   - 심각도 분포
   - 주요 원인

2. **🔍 발견된 에러 목록**
   - 각 에러의 기본 정보 (타입, 시간, 심각도)
   - **상세보기** 버튼으로 더 많은 정보 확인

3. **에러 상세 정보** (상세보기 클릭 시)
   - 기본 정보 (타입, 카테고리, 심각도, 발생 시간)
   - 원인 분석
   - 해결 방안 (구체적인 단계별 조치 방법)
   - 재발 방지책
   - 원본 로그 내용

#### 1-4. 분석 결과 저장

1. 분석 결과를 확인한 후 **분석결과 저장하기** 버튼 클릭
2. 저장 완료 메시지 확인
3. **AI 에러로그 현황**에서 저장된 결과 조회 가능

**저장되는 정보:**
- 에러 로그 전체 내용
- 분석된 에러 정보 (타입, 심각도, 위치 등)
- 원인 분석 결과
- 해결 방안 및 재발 방지책
- 발생 시간 및 저장 시간

### 2. AI 에러로그 현황

#### 2-1. 에러 로그 이력 조회

1. 메인 화면에서 **📊 AI 에러로그 현황** 버튼 클릭
2. 발생일자별로 그룹화된 에러 로그 목록 확인
3. 각 에러의 **상세보기** 버튼 클릭하여 상세 정보 확인

#### 2-2. 목록 정보

테이블에 표시되는 정보:
- **번호**: 해당 날짜 그룹 내 순번
- **저장시간**: 에러가 데이터베이스에 저장된 시간
- **발생시간**: 에러가 실제로 발생한 시간
- **시스템**: 에러가 발생한 시스템 타입
- **심각도**: 에러의 심각도 (CRITICAL, ERROR, WARNING 등)
- **에러 타입**: 에러의 종류
- **에러 내용**: 에러 메시지 요약
- **발생 위치**: 파일명 및 라인 번호

#### 2-3. 새로고침

- **🔄 새로고침** 버튼 클릭하여 최신 데이터 불러오기
- 새로 저장된 에러가 자동으로 표시됩니다.

#### 2-4. 필터링 및 정렬

현재 버전:
- 발생일자별 그룹화
- 최신 100건 조회
- 발생시간 기준 내림차순 정렬

향후 기능 (계획):
- 심각도별 필터링
- 시스템 타입별 필터링
- 날짜 범위 선택
- 검색 기능

### 3. 에러 상세 정보 확인

#### 3-1. 상세 정보 모달 열기

- 에러 목록에서 **상세보기** 버튼 클릭
- 또는 에러 행 클릭 (일부 화면)

#### 3-2. 정보 섹션

**🔍 기본 정보**
- 에러의 기본적인 메타데이터
- 발생 시간, 시스템 타입, 심각도 등

**🔍 원인 분석**
- AI가 분석한 에러의 근본 원인
- 발생 경로 및 조건

**💡 해결 방안**
- 단계별 해결 방법
- 각 단계에 대한 구체적인 명령어 또는 설정

**🛡️ 재발 방지책**
- 동일한 에러가 재발하지 않도록 하는 예방 조치
- 모니터링 및 알람 설정 방법

**📄 원본 로그**
- 전체 원본 로그 내용
- **펼치기/접기** 버튼으로 토글

#### 3-3. 정보 활용

1. **해결 방안 실행**
   - 제시된 해결 방안을 단계별로 실행
   - 필요시 관련 팀에 공유

2. **재발 방지책 적용**
   - 시스템 설정 변경
   - 모니터링 설정 추가
   - 문서화

3. **원본 로그 분석**
   - 추가적인 컨텍스트 확인
   - 다른 에러와의 연관성 파악

## 문제 해결

### API 서버 연결 실패

**증상:**
```
API 서버에 연결할 수 없습니다.
API 서버가 실행 중인지 확인하세요.
```

**해결 방법:**
1. API 서버가 실행 중인지 확인
   ```bash
   # 터미널에서 확인
   npm run api-server
   ```
2. 브라우저 콘솔에서 네트워크 오류 확인
3. 방화벽 설정 확인
4. 포트 충돌 확인 (기본값: 3011)

### Python 스크립트 실행 오류

**증상:**
```
Python 스크립트 실행 오류
Python 스크립트를 찾을 수 없습니다
```

**해결 방법:**
1. Python이 설치되어 있는지 확인
   ```bash
   python --version
   ```
2. Python 의존성 설치
   ```bash
   pip install mcp anthropic
   ```
3. `mcp-error-log-analyzer.py` 파일 존재 확인

### 분석 시간이 너무 오래 걸림

**증상:**
- 분석이 1분 이상 소요됨
- 타임아웃 오류 발생

**해결 방법:**
1. 로그 파일 크기 확인 (10MB 이하 권장)
2. 네트워크 연결 상태 확인 (AI API 호출)
3. 로그 파일을 여러 개로 분할하여 분석

### 저장된 에러가 목록에 표시되지 않음

**증상:**
- 분석결과 저장 후 목록에 나타나지 않음
- 새로고침 후에도 표시되지 않음

**해결 방법:**
1. **새로고침** 버튼 클릭
2. 브라우저 새로고침 (F5)
3. 발생시간이 오래된 경우 날짜 그룹 확인
   - 목록은 발생일자별로 그룹화됩니다
   - 최근 100건만 표시됩니다

### 파일 업로드 실패

**증상:**
- 파일 선택 후 오류 발생
- 파일 크기 초과 메시지

**해결 방법:**
1. 파일 크기 확인 (10MB 이하)
2. 파일 형식 확인 (텍스트 파일)
3. 파일 인코딩 확인 (UTF-8 권장)
4. 파일을 작은 크기로 분할

## 팁 및 권장사항

### 효과적인 에러 로그 분석

1. **로그 파일 선택**
   - 최근 발생한 에러가 포함된 로그 선택
   - 너무 오래된 로그는 관련성이 낮을 수 있음

2. **에러 우선순위**
   - CRITICAL > ERROR > WARNING 순으로 해결
   - 시스템 전체에 영향을 주는 에러 우선 처리

3. **연관 에러 분석**
   - 동일 시간대에 발생한 다른 에러 확인
   - 연쇄 에러인 경우 근본 원인 파악

4. **해결 방안 실행**
   - 단계별로 차근차근 실행
   - 각 단계의 결과를 확인하며 진행

5. **재발 방지**
   - 해결 후 재발 방지책 반드시 적용
   - 모니터링 설정으로 조기 발견

### 데이터 관리

1. **정기적인 백업**
   - `data/database.db` 파일 주기적으로 백업
   - 중요한 에러 정보 손실 방지

2. **저장 공간 관리**
   - 오래된 에러 로그 정리
   - 데이터베이스 크기 모니터링

3. **중요 에러 문서화**
   - 재발 가능성이 높은 에러는 별도 문서화
   - 팀 내 공유 및 교육 자료로 활용

## 추가 지원

도움이 필요하거나 문제가 해결되지 않는 경우:
1. 시스템 관리자에게 문의
2. 로그 파일 및 오류 메시지 포함하여 이슈 등록
3. `설치_및_구성_가이드.md` 참조

---

**마지막 업데이트**: 2025년 12월

